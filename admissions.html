<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>التسجيل والقبول - Alhikmah School</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts for Cairo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="header-footer.js" defer></script>
</head>
<body>
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

        <!-- Registration Content -->
        <section class="registration-section">
            <div class="container">
                <!-- Sidebar Navigation -->
                <aside class="registration-sidebar">
                    <h3>القائمة</h3>
                    <ul>
                        <li><a href="#documents" class="sidebar-link">الوثائق المطلوبة</a></li>
                        <li><a href="#fees" class="sidebar-link">الرسوم الدراسية</a></li>
                        <li><a href="#uniform" class="sidebar-link">الزي المدرسي</a></li>
                    </ul>
                </aside>

                <div class="registration-content">
                <!-- Accordion -->
                <div class="accordion">
                    <!-- Block 1: Documents -->
                    <div class="accordion-item" id="documents">
                        <button class="accordion-header">
                            <span class="accordion-title">الوثائق المطلوبة لتسجيل الطلبة للعام الدراسي الجديد</span>
                            <span class="accordion-icon">▼</span>
                        </button>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>لإتمام عملية التسجيل، يرجى تقديم المستندات التالية:</p>
                                <ul>
                                    <li>ثلاث صور شخصية حديثة للطالب (خلفية بيضاء).</li>
                                    <li>صورة من شهادة الميلاد.</li>
                                    <li>صورة من دفتر التطعيم (سارية المفعول).</li>
                                    <li>صورة من جواز السفر والهوية الإماراتية (للطالب، الأب، والأم).</li>
                                    <li>شهادة الانتقال الأصلية (مصدقة) للطلاب القادمين من مدارس أخرى.</li>
                                    <li>آخر شهادة دراسية (مصدقة).</li>
                                </ul>
                                <div class="highlight-box">
                                    <p class="highlight-red">شروط القبول حسب العمر:</p>
                                    <ul>
                                        <li><span class="highlight-bold">الروضة الأولى:</span> من أكمل 4 سنوات في 31 أغسطس.</li>
                                        <li><span class="highlight-bold">الروضة الثانية:</span> من أكمل 5 سنوات في 31 أغسطس.</li>
                                        <li><span class="highlight-bold">الصف الأول:</span> من أكمل 6 سنوات ولا يتجاوز 8 سنوات.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Block 2: Tuition Fees -->
                    <div class="accordion-item" id="fees">
                        <button class="accordion-header">
                            <span class="accordion-title">الرسوم الدراسية</span>
                            <span class="accordion-icon">▼</span>
                        </button>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p class="fees-intro">اختر الفرع لعرض الرسوم الدراسية:</p>
                                
                                <!-- Branch Selection -->
                                <div class="branch-selector">
                                    <button class="branch-btn" data-branch="nieemyah">النعيمية</button>
                                    <button class="branch-btn" data-branch="tallah">التلة</button>
                                    <button class="branch-btn" data-branch="jurf">الجرف</button>
                                    <button class="branch-btn" data-branch="masfoot">مصفوت</button>
                                </div>

                                <!-- Fees Table Container -->
                                <div class="fees-table-container fade-in" id="fees-table-container">
                                    <div class="fees-table-wrapper">
                                        <table class="fees-table" id="fees-table">
                                            <thead>
                                                <tr>
                                                    <th>المرحلة</th>
                                                    <th>الرسوم السنوية</th>
                                                </tr>
                                            </thead>
                                            <tbody id="fees-table-body">
                                                <!-- Table content will be populated by JavaScript -->
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="fees-notes">
                                        <p class="note-text"><strong>ملاحظات:</strong></p>
                                        <ul>
                                            <li>رسوم التسجيل: 500 درهم (غير مستردة، تخصم من الرسوم الدراسية)</li>
                                            <li>الرسوم تشمل الكتب الدراسية</li>
                                            <li>الرسوم لا تشمل الزي المدرسي أو المواصلات</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Block 3: Uniform -->
                    <div class="accordion-item" id="uniform">
                        <button class="accordion-header">
                            <span class="accordion-title">الزي المدرسي</span>
                            <span class="accordion-icon">▼</span>
                        </button>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>الالتزام بالزي المدرسي الموحد إلزامي لجميع الطلاب:</p>
                                <ul>
                                    <li><span class="highlight-bold">البنين:</span> قميص أزرق فاتح، بنطلون كحلي، حذاء أسود.</li>
                                    <li><span class="highlight-bold">البنات:</span> مريول كحلي، قميص أبيض، حذاء أسود.</li>
                                    <li><span class="highlight-bold">الرياضة:</span> زي رياضي خاص بالمدرسة (متوفر في المتجر المدرسي).</li>
                                </ul>
                                <p>يمكن شراء الزي المدرسي من قسم المبيعات في المدرسة يومياً من الساعة 8:00 صباحاً حتى 1:00 ظهراً.</p>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>
    <script>
        // Sidebar navigation functionality
        document.addEventListener('DOMContentLoaded', () => {
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            const accordionItems = document.querySelectorAll('.accordion-item');

            sidebarLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        // Scroll to element
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        
                        // Open accordion after scroll
                        setTimeout(() => {
                            const accordionHeader = targetElement.querySelector('.accordion-header');
                            if (accordionHeader && !targetElement.classList.contains('active')) {
                                accordionHeader.click();
                            }
                            
                            // Update active state
                            sidebarLinks.forEach(l => l.classList.remove('active'));
                            link.classList.add('active');
                        }, 300);
                    }
                });
            });

            // Update active sidebar link on scroll
            const observerOptions = {
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id;
                        sidebarLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            accordionItems.forEach(item => {
                observer.observe(item);
            });
        });
    </script>

    <script>
        const accordionHeaders = document.querySelectorAll('.accordion-header');

        accordionHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const item = header.parentElement;
                const isActive = item.classList.contains('active');

                // Close all items
                document.querySelectorAll('.accordion-item').forEach(i => {
                    i.classList.remove('active');
                    i.querySelector('.accordion-content').style.maxHeight = null;
                });

                // If clicked item wasn't active, open it
                if (!isActive) {
                    item.classList.add('active');
                    const content = item.querySelector('.accordion-content');
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        });

        // Open accordion item if URL has a hash
        window.addEventListener('DOMContentLoaded', () => {
            const hash = window.location.hash;
            if (hash) {
                const targetId = hash.substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement && targetElement.classList.contains('accordion-item')) {
                    // Scroll first
                    setTimeout(() => {
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        // Then open accordion
                        setTimeout(() => {
                            if (!targetElement.classList.contains('active')) {
                                targetElement.querySelector('.accordion-header').click();
                            }
                            // Update sidebar active state
                            const sidebarLink = document.querySelector(`.sidebar-link[href="#${targetId}"]`);
                            if (sidebarLink) {
                                document.querySelectorAll('.sidebar-link').forEach(l => l.classList.remove('active'));
                                sidebarLink.classList.add('active');
                            }
                        }, 400);
                    }, 100);
                }
            }
        });
    </script>

    <script>
        // Tuition Fees Data (extracted from images - update with actual data from images)
        const tuitionFees = {
            nieemyah: {
                name: 'النعيمية',
                fees: [
                    { grade: 'الروضة الأولى', amount: '12,000' },
                    { grade: 'الروضة الثانية', amount: '12,000' },
                    { grade: 'الصف الأول', amount: '15,000' },
                    { grade: 'الصف الثاني', amount: '15,000' },
                    { grade: 'الصف الثالث', amount: '15,000' },
                    { grade: 'الصف الرابع', amount: '15,000' },
                    { grade: 'الصف الخامس', amount: '15,000' },
                    { grade: 'الصف السادس', amount: '15,000' },
                    { grade: 'الصف السابع', amount: '18,000' },
                    { grade: 'الصف الثامن', amount: '18,000' },
                    { grade: 'الصف التاسع', amount: '18,000' },
                    { grade: 'الصف العاشر', amount: '18,000' },
                    { grade: 'الصف الحادي عشر', amount: '18,000' },
                    { grade: 'الصف الثاني عشر', amount: '18,000' }
                ]
            },
            tallah: {
                name: 'التلة',
                fees: [
                    { grade: 'الروضة الأولى', amount: '12,000' },
                    { grade: 'الروضة الثانية', amount: '12,000' },
                    { grade: 'الصف الأول', amount: '15,000' },
                    { grade: 'الصف الثاني', amount: '15,000' },
                    { grade: 'الصف الثالث', amount: '15,000' },
                    { grade: 'الصف الرابع', amount: '15,000' },
                    { grade: 'الصف الخامس', amount: '15,000' },
                    { grade: 'الصف السادس', amount: '15,000' },
                    { grade: 'الصف السابع', amount: '18,000' },
                    { grade: 'الصف الثامن', amount: '18,000' },
                    { grade: 'الصف التاسع', amount: '18,000' },
                    { grade: 'الصف العاشر', amount: '18,000' },
                    { grade: 'الصف الحادي عشر', amount: '18,000' },
                    { grade: 'الصف الثاني عشر', amount: '18,000' }
                ]
            },
            jurf: {
                name: 'الجرف',
                fees: [
                    { grade: 'الروضة الأولى', amount: '12,000' },
                    { grade: 'الروضة الثانية', amount: '12,000' },
                    { grade: 'الصف الأول', amount: '15,000' },
                    { grade: 'الصف الثاني', amount: '15,000' },
                    { grade: 'الصف الثالث', amount: '15,000' },
                    { grade: 'الصف الرابع', amount: '15,000' },
                    { grade: 'الصف الخامس', amount: '15,000' },
                    { grade: 'الصف السادس', amount: '15,000' },
                    { grade: 'الصف السابع', amount: '18,000' },
                    { grade: 'الصف الثامن', amount: '18,000' },
                    { grade: 'الصف التاسع', amount: '18,000' },
                    { grade: 'الصف العاشر', amount: '18,000' },
                    { grade: 'الصف الحادي عشر', amount: '18,000' },
                    { grade: 'الصف الثاني عشر', amount: '18,000' }
                ]
            },
            masfoot: {
                name: 'مصفوت',
                fees: [
                    { grade: 'الروضة الأولى', amount: '12,000' },
                    { grade: 'الروضة الثانية', amount: '12,000' },
                    { grade: 'الصف الأول', amount: '15,000' },
                    { grade: 'الصف الثاني', amount: '15,000' },
                    { grade: 'الصف الثالث', amount: '15,000' },
                    { grade: 'الصف الرابع', amount: '15,000' },
                    { grade: 'الصف الخامس', amount: '15,000' },
                    { grade: 'الصف السادس', amount: '15,000' },
                    { grade: 'الصف السابع', amount: '18,000' },
                    { grade: 'الصف الثامن', amount: '18,000' },
                    { grade: 'الصف التاسع', amount: '18,000' },
                    { grade: 'الصف العاشر', amount: '18,000' },
                    { grade: 'الصف الحادي عشر', amount: '18,000' },
                    { grade: 'الصف الثاني عشر', amount: '18,000' }
                ]
            }
        };

        // Branch selection functionality
        document.addEventListener('DOMContentLoaded', () => {
            const branchButtons = document.querySelectorAll('.branch-btn');
            const feesTableContainer = document.getElementById('fees-table-container');
            const feesTableBody = document.getElementById('fees-table-body');

            branchButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons
                    branchButtons.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked button
                    btn.classList.add('active');

                    // Get branch data
                    const branchKey = btn.getAttribute('data-branch');
                    const branchData = tuitionFees[branchKey];

                    if (branchData) {
                        // Clear existing table rows
                        feesTableBody.innerHTML = '';

                        // Populate table with branch data
                        branchData.fees.forEach(fee => {
                            const row = document.createElement('tr');
                            row.innerHTML = `
                                <td>${fee.grade}</td>
                                <td>${fee.amount} درهم</td>
                            `;
                            feesTableBody.appendChild(row);
                        });

                        // Show table with animation
                        feesTableContainer.style.display = 'block';
                        setTimeout(() => {
                            feesTableContainer.classList.add('show');
                        }, 10);
                    }
                });
            });

            // Auto-select first branch when fees section is opened
            const feesAccordion = document.getElementById('fees');
            if (feesAccordion) {
                const observer = new MutationObserver(() => {
                    if (feesAccordion.classList.contains('active')) {
                        const firstBtn = branchButtons[0];
                        if (firstBtn && !feesTableContainer.classList.contains('show')) {
                            firstBtn.click();
                        }
                    }
                });
                observer.observe(feesAccordion, { attributes: true, attributeFilter: ['class'] });
            }
        });
    </script>
</body>
</html>
